# 产品视频提示词批量生成系统 - 设计文档

## 一、项目目标

设计一个可以每天为产品生成上千条视频提示词的系统。通过模版化 + 变量化的方式，确保提示词的完整性和可控的变种能力。

## 二、核心设计思路

### 2.1 设计原则

- **模版保证完整性**：通过固定的模版结构，确保每条提示词都包含必要的元素
- **变量提供多样性**：通过可替换的变量模块，产生大量不重复的组合
- **标签实现灵活性**：通过标签系统控制风格匹配和排斥规则
- **约束保证质量**：通过负面提示词和构图规则，确保输出质量下限

### 2.2 核心公式

```
完整提示词 = [技术起手式] + [固定主体描述] + [动态A] + [环境B] + [运镜C] + [光影D] + [技术参数后缀] + [负面提示词]
```

| 模块 | 说明 | 是否变化 |
|------|------|----------|
| 技术起手式 | 设定画质基调，如 "Cinematic commercial footage, 8k, photorealistic" | 全局配置，少量变化 |
| 固定主体描述 | 产品的精确描述，确保AI还原产品外观 | 根据产品不同而不同 |
| 动态A | 产品或场景的动态效果，如"缓慢旋转"、"水花溅射" | 变量，从A库中抽取 |
| 环境B | 背景与场景，如"极简白色展台"、"森林露珠" | 变量，从B库中抽取 |
| 运镜C | 镜头运动方式，如"微距推进"、"环绕拍摄" | 变量，从C库中抽取 |
| 光影D | 光线与氛围，如"晨光"、"霓虹灯光" | 变量，从D库中抽取 |
| 技术参数后缀 | 画幅比例等参数，如 "--ar 9:16" | 全局配置 |
| 负面提示词 | 告诉AI不要生成什么，如 "--no human hands, cartoon" | 全局 + 风格专属 |

### 2.3 组合数学

假设各库容量：A=20, B=20, C=15, D=10

单风格组合数 = 20 × 20 × 15 × 10 = **60,000 种**

足够支撑每天1000条，持续60天不重复。配合多风格和Seed参数，可无限扩展。

---

## 三、标签系统设计

### 3.1 为什么用标签

**标签方案**：给每个变量项打标签，通过标签筛选和排斥来实现风格控制。

### 3.2 标签体系

```
标签维度：
├── 风格标签：自然、科技、艺术、生活、极简、奢华...
├── 节奏标签：静态、缓慢、动感、急速...
├── 氛围标签：清爽、温暖、神秘、活力、高级...
└── 材质标签：水感、光泽、雾化、质地...
```

### 3.3 风格定义

风格 = 标签的组合规则 + 排斥规则

利用风格来表达ABCD变量如何挑选的规则，避免ABCD纯随机组合，产生矛盾的组合。

```
示例：
风格"自然修护" = {
  名称: "自然修护",
  包含标签: [自然],           // 变量项必须包含这些标签之一
  排斥标签: [科技, 霓虹, 赛博], // 变量项不能包含这些标签
}
```

### 3.4 排斥规则

除了风格外，还可以设置全局的标签牌排斥规则，定义不兼容的组合：

```
示例：
- 静态 × 急速运镜 = 不兼容（静止的产品不适合急速镜头）
- 极简 × 复杂背景 = 不兼容
- 微距 × 全景 = 不兼容
```

### 3.5 筛选逻辑

```
1. 用户选择风格（如"自然修护"）
2. 从A/B/C/D库中筛选：
   - 必须包含"自然"标签
   - 不能包含"科技"、"霓虹"、"赛博"标签
3. 随机抽取一个A + 一个B + 一个C + 一个D
4. 检查排斥规则：
   - 如果A和C的标签组合在排斥规则中 → 重新抽取
5. 组装完整提示词
```

---

## 四、系统架构

### 4.1 模块划分

```
┌─────────────────────────────────────────────────────────────┐
│                      模版系统 (Template System)              │
├─────────────────────────────────────────────────────────────┤
│  全局配置                                                    │
│  ├── 技术起手式                                               │
│  ├── 技术参数后缀                                            │
│  └── 全局负面提示词                                          │
├─────────────────────────────────────────────────────────────┤
│  标签体系                                                    │
│  └── 标签列表（风格、节奏、氛围、材质等维度）                  │
├─────────────────────────────────────────────────────────────┤
│  变量库                                                      │
│  ├── A库（动态）：每项带标签                                  │
│  ├── B库（环境）：每项带标签                                  │
│  ├── C库（运镜）：每项带标签                                  │
│  └── D库（光影）：每项带标签                                  │
├─────────────────────────────────────────────────────────────┤
│  风格定义                                                    │
│  └── 风格 = { 名称, 包含标签[], 排斥标签[] }                      │
├─────────────────────────────────────────────────────────────┤
│  排斥规则                                                    │
│  └── 规则 = { 标签A × 标签B = 不兼容 }                        │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                      产品系统 (Product System)               │
├─────────────────────────────────────────────────────────────┤
│  产品                                                        │
│  ├── 产品名称                                                │
│  ├── 产品图片（支持多张：正视图、俯视图、开盖图等）            │
│  └── 产品描述（用于提示词中的"固定主体描述"）                 │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                      任务系统 (Task System)                  │
├─────────────────────────────────────────────────────────────┤
│  任务                                                        │
│  ├── 选择产品（支持多选）                                    │
│  ├── 选择风格（支持多选，默认全选，平均分布）                  │
│  ├── 生成数量                                                │
│  └── 生成的提示词列表（存储结果）                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 提示词生成流程

```
输入：产品列表、风格列表、数量N

For i in 1 to N:
    1. 随机选择一个产品（如果多选）
       - 获取产品的 texture_type 和 form_type
    
    2. 随机选择一个风格（如果多选）
       - 获取风格的 include_tags 和 exclude_tags
    
    3. 筛选 A 库候选项（三层合并）：
       a. 通用动效：tags 包含 "通用"
       b. 质地动效：tags 包含 "质地:{texture_type}"
       c. 形态动效：tags 包含 "形态:{form_type}"
       d. 再根据风格标签进一步筛选
    
    4. 筛选 B/C/D 库候选项：
       - 根据风格的 include_tags 和 exclude_tags 筛选
    
    5. 随机抽取 A + B + C + D
       - A 库可按比例抽取（如 50%通用 + 25%质地 + 25%形态）
    
    6. 检查排斥规则，若冲突则回到步骤5重新抽取
    
    7. 组装提示词：
       技术起手式 + 产品描述 + A + B + C + D + 技术参数 + 负面提示词
    
    8. 存储提示词

输出：N条完整的提示词
```

### 4.3 Image-to-Video 说明

由于是产品宣传视频，必须使用 Image-to-Video（图生视频）模式：
- 产品图片作为参考图输入，确保产品外观、包装、文字的准确还原
- 提示词用于引导视频的动态、环境、镜头、光影
- 建议为每个产品准备多角度图片（正视图、俯视图、侧视图、开盖图等）

---

## 五、用户交互界面

### 5.1 产品管理界面

- 添加/编辑/删除产品
- 上传产品图片（支持多张）
- 填写产品描述

### 5.2 模版配置界面

- 查看/编辑全局配置（技术起手式、参数后缀、全局负面提示词）
- 管理标签列表
- 查看/编辑变量库（A/B/C/D），为每项配置标签
- 管理风格定义
- 管理排斥规则

### 5.3 任务创建界面

- 选择产品（多选）
- 选择风格（多选，默认全选）
- 填写生成数量
- 触发生成
- 查看生成结果

---

## 六、数据库设计

采用 PostgreSQL，利用 JSONB 和数组类型简化表结构，减少关联表。

### 6.1 配置表 (config)

存储所有配置项，包括全局配置、风格定义、排斥规则等。

| 字段 | 类型 | 说明 |
|------|------|------|
| id | SERIAL | 主键 |
| config_key | VARCHAR | 配置项名称 |
| config_value | JSONB | 配置值（JSON格式） |
| description | TEXT | 说明 |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

**config_key 预定义值**：

| config_key | config_value 示例 |
|------------|------------------|
| tech_intro | `"电影级商业广告画面，8K分辨率，超写实风格"` |
| tech_suffix | `"--ar 9:16"` |
| negative_prompt | `"不要出现人手、人脸、文字变形、卡通风格、模糊画面"` |
| styles | `[{"name": "自然修护", "include_tags": ["自然"], "exclude_tags": ["科技", "霓虹"]}]` |
| exclusion_rules | `[{"tag_a": "静态", "tag_b": "急速", "reason": "静止产品不适合急速镜头"}]` |

### 6.2 变量库表 (variable_item)

| 字段 | 类型 | 说明 |
|------|------|------|
| id | SERIAL | 主键 |
| type | VARCHAR(1) | 变量类型：A/B/C/D |
| content | TEXT | 变量内容（中文提示词片段） |
| tags | TEXT[] | 标签数组，如 `{"自然", "清爽", "动感"}` |
| created_at | TIMESTAMP | 创建时间 |

**说明**：
- `tags` 使用 PostgreSQL 原生数组类型 `TEXT[]`
- 查询时可用 `@>` 操作符判断包含，`&&` 判断交集
- 示例：`WHERE tags @> ARRAY['自然']` 筛选包含"自然"标签的项
- **A库特殊标签**：A库变量项通过特殊标签区分层级（详见第七章）：
  - `通用` - 跨产品通用动效
  - `质地:凝胶`、`质地:水剂`、`质地:乳霜` - 质地专属动效
  - `形态:罐装`、`形态:泵头`、`形态:喷雾`、`形态:滴管` - 形态专属动效

### 6.3 产品表 (product)

| 字段 | 类型 | 说明 |
|------|------|------|
| id | SERIAL | 主键 |
| name | VARCHAR | 产品名称 |
| description | TEXT | 产品描述（用于提示词中的"固定主体描述"） |
| images | JSONB | 产品图片数组，格式：`[{"url": "...", "type": "front", "is_primary": true}]` |
| texture_type | VARCHAR | 质地类型：gel（凝胶）/liquid（水剂）/cream（乳霜）/powder（粉状） |
| form_type | VARCHAR | 包装形态：jar（罐装）/pump（泵头）/spray（喷雾）/dropper（滴管）/tube（软管） |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

**说明**：
- `texture_type` 和 `form_type` 用于筛选 A库 中的专属动效
- 生成提示词时，会根据产品属性自动匹配合适的动态效果

### 6.4 任务表 (task)

| 字段 | 类型 | 说明 |
|------|------|------|
| id | SERIAL | 主键 |
| name | VARCHAR | 任务名称 |
| product_ids | INTEGER[] | 产品ID数组 |
| style_names | TEXT[] | 风格名称数组（引用 config 中的 styles） |
| quantity | INTEGER | 生成数量 |
| status | VARCHAR | 状态：pending/running/completed/failed |
| created_at | TIMESTAMP | 创建时间 |
| completed_at | TIMESTAMP | 完成时间 |

### 6.6 生成的提示词表 (generated_prompt)

| 字段 | 类型 | 说明 |
|------|------|------|
| id | SERIAL | 主键 |
| task_id | INTEGER | 任务ID，外键 |
| product_id | INTEGER | 产品ID，外键 |
| style_name | VARCHAR | 使用的风格名称 |
| variable_a_id | INTEGER | 使用的A变量ID |
| variable_b_id | INTEGER | 使用的B变量ID |
| variable_c_id | INTEGER | 使用的C变量ID |
| variable_d_id | INTEGER | 使用的D变量ID |
| full_prompt | TEXT | 完整的提示词文本 |
| created_at | TIMESTAMP | 创建时间 |

### 6.6 表关系图

```
config (配置表)
    └── styles, exclusion_rules, tech_intro, tech_suffix, negative_prompt

variable_item (变量库)
    ├── type: A (动态) - 含通用/质地专属/形态专属三层
    ├── type: B (环境)
    ├── type: C (运镜)
    └── type: D (光影)

product (产品)
    ├── images[] - 产品图片数组
    ├── texture_type - 用于匹配A库质地专属动效
    └── form_type - 用于匹配A库形态专属动效

task (任务)
    ├── product_ids[] -> product
    ├── style_names[] -> config.styles
    └── generated_prompt (生成的提示词) [1:N]
```

**最终只需 5 张表**：config、variable_item、product、task、generated_prompt

---

## 七、A库分层设计

### 7.1 为什么A库需要分层

A库（动态效果）是受产品形态和物理属性限制最深的变量。不同产品的包装形态和内容物质地决定了用户对产品的"第一动效联想"：

| 产品类型 | 核心动效联想 |
|----------|-------------|
| 凝胶/面霜（罐装） | Q弹质地、挖取感、瓶盖旋转 |
| 喷雾/爽肤水 | 雾化感、喷射扇面、液体流动 |
| 精华液（滴管） | 滴落瞬间、浓稠挂壁、吸管气泡 |
| 乳液（泵头） | 按压动作、料体挤出、绵密质感 |

如果用"凝胶罐"的动效去跑"喷雾瓶"，AI 可能会让喷雾瓶像果冻一样抖动，产生视觉不适。

### 7.2 三层配置结构

```
A库（动态效果）
├── 第一层：通用动效 (Universal) - 跨产品可用
│   └── 标签包含：通用
│   └── 例：360度旋转、悬浮、水花撞击、光影变化
│
├── 第二层：质地专属动效 (Texture-based) - 根据内容物配置
│   ├── 凝胶类：标签包含 质地:凝胶
│   │   └── 例：弹性抖动、气泡上升、自动流平
│   ├── 水剂类：标签包含 质地:水剂
│   │   └── 例：晃动泡沫、透明折射、泼溅
│   └── 乳霜类：标签包含 质地:乳霜
│       └── 例：丝滑旋涡、细腻推开、绵密质感
│
└── 第三层：形态专属动效 (Form-based) - 根据包装结构配置
    ├── 罐装：标签包含 形态:罐装
    │   └── 例：瓶盖旋转开启、罐内挖取
    ├── 泵头：标签包含 形态:泵头
    │   └── 例：按压动作、料体从泵口挤出
    ├── 喷雾：标签包含 形态:喷雾
    │   └── 例：雾化喷出、喷嘴水滴
    └── 滴管：标签包含 形态:滴管
        └── 例：滴管拔出、液体滴落、挂壁效果
```

### 7.3 A库抽取逻辑

生成提示词时，根据产品的 `texture_type` 和 `form_type` 筛选 A 库：

```
1. 获取产品属性：texture_type=gel, form_type=jar
2. 构建 A 库筛选条件：
   - 通用动效：tags 包含 "通用"
   - 质地动效：tags 包含 "质地:凝胶"
   - 形态动效：tags 包含 "形态:罐装"
3. 合并候选池，按比例随机抽取（建议 50% 通用 + 25% 质地 + 25% 形态）
4. 再根据风格标签进一步筛选
```

---

## 八、预定义内容

### 8.1 全局配置

**技术起手式 (tech_intro)**：
```
电影级商业广告画面，8K分辨率，超写实风格，产品居中构图，产品完全在画面内
```

**技术参数后缀 (tech_suffix)**：
```
--ar 9:16
```

**全局负面提示词 (negative_prompt)**：
```
不要出现人手、人脸、文字变形、拼写错误、模糊画面、低分辨率、杂乱背景、卡通风格、插画风格
```

### 8.2 风格定义 (styles)

```json
[
  {
    "name": "自然清新",
    "include_tags": ["自然"],
    "exclude_tags": ["科技", "霓虹", "赛博"]
  },
  {
    "name": "科技专业",
    "include_tags": ["科技"],
    "exclude_tags": ["自然", "田园", "森林"]
  },
  {
    "name": "艺术唯美",
    "include_tags": ["艺术"],
    "exclude_tags": ["生活", "日常"]
  },
  {
    "name": "生活场景",
    "include_tags": ["生活"],
    "exclude_tags": ["科技", "艺术", "抽象"]
  }
]
```

### 8.3 排斥规则 (exclusion_rules)

```json
[
  {"tag_a": "静态", "tag_b": "急速", "reason": "静止产品不适合急速镜头"},
  {"tag_a": "微距", "tag_b": "全景", "reason": "微距和全景镜头冲突"},
  {"tag_a": "极简", "tag_b": "复杂", "reason": "极简风格不适合复杂背景"}
]
```

### 8.4 A库：动态效果（三层结构）

#### 第一层：通用动效（10条）

适用于所有护肤品，不涉及产品开合和质地特性。

| ID | content | tags |
|----|---------|------|
| A-U01 | 产品缓慢360度旋转，展示各个角度 | 通用, 高级, 展示 |
| A-U02 | 产品在空中轻柔悬浮，微微上下起伏 | 通用, 艺术, 高级 |
| A-U03 | 清澈的水流轻柔冲刷产品表面 | 通用, 自然, 清爽 |
| A-U04 | 晶莹水珠从产品表面滑落 | 通用, 自然, 清爽 |
| A-U05 | 绿叶和花瓣轻轻飘落在产品周围 | 通用, 自然, 柔和 |
| A-U06 | 产品表面有细腻的光泽流动 | 通用, 高级, 艺术 |
| A-U07 | 产品静置不动，只有光影在变化 | 通用, 静态, 高级 |
| A-U08 | 产品周围有轻柔的粒子光效飘动 | 通用, 艺术, 科技 |
| A-U09 | 丝绸布料轻轻飘过产品旁边 | 通用, 高级, 艺术 |
| A-U10 | 产品周围有淡淡的烟雾缓缓流动 | 通用, 艺术, 神秘 |

#### 第二层：质地专属动效

**凝胶类（5条）**：适用于 texture_type=gel

| ID | content | tags |
|----|---------|------|
| A-TG01 | 凝胶质地轻轻晃动，展示Q弹效果 | 质地:凝胶, 展示, 质感 |
| A-TG02 | 透明凝胶内部气泡缓缓上升 | 质地:凝胶, 自然, 质感 |
| A-TG03 | 凝胶像果冻般弹性跳动 | 质地:凝胶, 动感, 展示 |
| A-TG04 | 凝胶表面形成涟漪波纹 | 质地:凝胶, 柔和, 艺术 |
| A-TG05 | 凝胶自动流平，展示流动质感 | 质地:凝胶, 高级, 质感 |

**水剂类（5条）**：适用于 texture_type=liquid

| ID | content | tags |
|----|---------|------|
| A-TL01 | 透明液体在瓶内轻轻晃动 | 质地:水剂, 自然, 质感 |
| A-TL02 | 液体产生细腻泡沫 | 质地:水剂, 清爽, 动感 |
| A-TL03 | 液体透光折射出彩虹光芒 | 质地:水剂, 艺术, 光效 |
| A-TL04 | 清澈液体泛起涟漪 | 质地:水剂, 自然, 柔和 |
| A-TL05 | 水珠在液面跳跃 | 质地:水剂, 动感, 清爽 |

**乳霜类（5条）**：适用于 texture_type=cream

| ID | content | tags |
|----|---------|------|
| A-TC01 | 乳霜呈现丝滑旋涡纹理 | 质地:乳霜, 高级, 质感 |
| A-TC02 | 绵密乳霜缓缓流动 | 质地:乳霜, 柔和, 质感 |
| A-TC03 | 乳霜质地被轻轻推开 | 质地:乳霜, 展示, 质感 |
| A-TC04 | 细腻乳霜泛起柔和光泽 | 质地:乳霜, 高级, 光效 |
| A-TC05 | 乳霜像云朵般轻盈蓬松 | 质地:乳霜, 艺术, 柔和 |

#### 第三层：形态专属动效

**罐装（5条）**：适用于 form_type=jar

| ID | content | tags |
|----|---------|------|
| A-FJ01 | 瓶盖缓缓旋转打开 | 形态:罐装, 展示, 高级 |
| A-FJ02 | 从罐中轻轻挖取一勺内容物 | 形态:罐装, 展示, 生活 |
| A-FJ03 | 瓶盖轻轻盖上，发出清脆声响感 | 形态:罐装, 高级, 展示 |
| A-FJ04 | 罐口边缘有晶莹露珠 | 形态:罐装, 自然, 清爽 |
| A-FJ05 | 俯视罐内，展示满满的内容物 | 形态:罐装, 展示, 高级 |

**泵头（5条）**：适用于 form_type=pump

| ID | content | tags |
|----|---------|------|
| A-FP01 | 泵头缓缓按下，料体优雅挤出 | 形态:泵头, 展示, 高级 |
| A-FP02 | 绵密泡沫从泵口涌出 | 形态:泵头, 动感, 展示 |
| A-FP03 | 泵头轻按，乳液丝滑流出 | 形态:泵头, 柔和, 展示 |
| A-FP04 | 按压泵头的慢动作特写 | 形态:泵头, 高级, 展示 |
| A-FP05 | 泵口处有一滴待落的精华 | 形态:泵头, 高级, 质感 |

**喷雾（5条）**：适用于 form_type=spray

| ID | content | tags |
|----|---------|------|
| A-FS01 | 细腻雾气呈60度扇形喷出 | 形态:喷雾, 动感, 展示 |
| A-FS02 | 水雾在空气中缓缓散开 | 形态:喷雾, 柔和, 清爽 |
| A-FS03 | 喷嘴处有晶莹水珠跳动 | 形态:喷雾, 自然, 动感 |
| A-FS04 | 喷雾形成梦幻的水雾帘幕 | 形态:喷雾, 艺术, 梦幻 |
| A-FS05 | 超慢动作捕捉喷雾瞬间 | 形态:喷雾, 高级, 艺术 |

**滴管（5条）**：适用于 form_type=dropper

| ID | content | tags |
|----|---------|------|
| A-FD01 | 滴管缓缓拔出，精华滴落 | 形态:滴管, 展示, 高级 |
| A-FD02 | 金色精华液沿管壁缓缓滑落 | 形态:滴管, 高级, 质感 |
| A-FD03 | 一滴精华从滴管尖端坠落 | 形态:滴管, 艺术, 展示 |
| A-FD04 | 精华液在滴管内形成气泡 | 形态:滴管, 质感, 自然 |
| A-FD05 | 浓稠精华挂壁，展示稠度 | 形态:滴管, 高级, 质感 |

### 8.5 B库：环境背景（20条）

| ID | content | tags |
|----|---------|------|
| B01 | 放置在极简纯白展台上，无任何杂物 | 极简, 高级, 展示 |
| B02 | 被新鲜翠绿的植物叶片环绕 | 自然, 清新 |
| B03 | 放置在布满晨露的湿润岩石上 | 自然, 清爽 |
| B04 | 位于现代感十足的白色实验室环境 | 科技, 专业 |
| B05 | 放置在浴室大理石洗漱台上 | 生活, 日常 |
| B06 | 漂浮在清澈见底的水面上 | 自然, 水感, 艺术 |
| B07 | 被盛开的鲜花簇拥 | 自然, 柔和, 温暖 |
| B08 | 放置在阳光洒落的木质桌面上 | 生活, 自然, 温暖 |
| B09 | 位于充满科技感的深色背景中 | 科技, 高级, 神秘 |
| B10 | 放置在晶莹剔透的冰块上 | 清爽, 高级 |
| B11 | 被柔软的白色羽毛环绕 | 柔和, 高级, 艺术 |
| B12 | 位于无限延伸的镜面空间 | 艺术, 高级, 科技 |
| B13 | 放置在温馨的卧室梳妆台上 | 生活, 日常, 温暖 |
| B14 | 被积雪草和天然草本植物包围 | 自然, 草本, 清新 |
| B15 | 位于充满水汽的spa环境中 | 生活, 自然, 柔和 |
| B16 | 放置在光滑的黑色玻璃倒影台上 | 高级, 极简 |
| B17 | 被流动的清水环绕 | 自然, 水感, 清爽 |
| B18 | 位于简约现代的浅灰色背景中 | 极简, 高级, 科技 |
| B19 | 放置在柔软的丝绒布料上 | 高级, 柔和, 艺术 |
| B20 | 被满天繁星的夜空包围 | 艺术, 神秘, 梦幻 |

### 8.6 C库：运镜方式（20条）

| ID | content | tags |
|----|---------|------|
| C01 | 镜头缓慢推近，聚焦产品细节 | 缓慢, 展示 |
| C02 | 镜头360度环绕产品旋转拍摄 | 动感, 展示 |
| C03 | 从俯视角度缓缓下降靠近产品 | 缓慢, 高级 |
| C04 | 微距镜头特写产品质地和细节 | 微距, 展示, 质地 |
| C05 | 镜头保持静止，产品居中构图 | 静态, 稳定 |
| C06 | 镜头从下往上缓慢仰拍 | 缓慢, 高级 |
| C07 | 镜头平稳横移，展示产品侧面 | 缓慢, 展示 |
| C08 | 带有浅景深的柔焦效果拍摄 | 艺术, 柔和 |
| C09 | 镜头缓慢拉远，展示整体环境 | 缓慢, 全景 |
| C10 | 镜头轻微晃动，模拟手持质感 | 生活, 自然 |
| C11 | 慢动作拍摄，时间流逝变慢 | 缓慢, 艺术, 高级 |
| C12 | 镜头沿弧线轨迹优雅移动 | 艺术, 高级, 动感 |
| C13 | 从模糊到清晰的对焦转换 | 艺术, 展示 |
| C14 | 镜头稳定跟随产品移动 | 动感, 跟随 |
| C15 | 超近距离微距拍摄质地纹理 | 微距, 质地, 展示 |
| C16 | 镜头从左至右缓慢摇移 | 缓慢, 稳定 |
| C17 | 垂直俯拍，鸟瞰视角 | 艺术, 高级 |
| C18 | 镜头缓慢螺旋式靠近产品 | 艺术, 动感, 高级 |
| C19 | 固定机位长镜头拍摄 | 静态, 稳定, 高级 |
| C20 | 镜头穿过水雾靠近产品 | 艺术, 自然, 动感 |

### 8.7 D库：光影氛围（20条）

| ID | content | tags |
|----|---------|------|
| D01 | 柔和的自然日光照明，光线均匀 | 自然, 柔和, 清新 |
| D02 | 温暖的黄金时刻阳光，带有温暖色调 | 自然, 温暖, 高级 |
| D03 | 干净的影棚白光，专业产品摄影感 | 科技, 专业, 展示 |
| D04 | 从侧面打来的轮廓光，勾勒产品边缘 | 高级, 艺术, 展示 |
| D05 | 柔和的阴天散射光，无明显阴影 | 自然, 柔和 |
| D06 | 穿过树叶的斑驳光影 | 自然, 艺术, 森林 |
| D07 | 清晨第一缕阳光，带有希望感 | 自然, 清新, 温暖 |
| D08 | 冷色调的月光氛围 | 神秘, 艺术, 清爽 |
| D09 | 产品周围有柔和的光晕效果 | 艺术, 高级, 梦幻 |
| D10 | 干净明亮的高调光线 | 高级, 清新, 展示 |
| D11 | 戏剧性的明暗对比光影 | 艺术, 高级, 神秘 |
| D12 | 带有彩虹色散效果的棱镜光 | 艺术, 科技, 梦幻 |
| D13 | 温馨的室内暖光照明 | 生活, 温暖, 柔和 |
| D14 | 水面反射的波光粼粼效果 | 自然, 水感, 艺术 |
| D15 | 柔和的背光照明，产品轮廓发光 | 艺术, 高级, 展示 |
| D16 | 实验室冷白光，专业感十足 | 科技, 专业 |
| D17 | 渐变色的氛围灯光效果 | 艺术, 科技, 梦幻 |
| D18 | 自然窗户光线，带有柔和阴影 | 生活, 自然, 柔和 |
| D19 | 聚光灯效果，突出产品主体 | 高级, 展示, 专业 |
| D20 | 梦幻柔焦的朦胧光效 | 艺术, 梦幻, 柔和 |

### 8.8 完整提示词组装示例

**示例产品配置**：
```json
{
  "name": "Dr. Leo 5%泛醇舒缓凝胶",
  "description": "一瓶透明质感的Dr. Leo 5%泛醇舒缓凝胶，内部是清透的绿色凝胶质地，可见细小气泡，包装精致高端",
  "texture_type": "gel",
  "form_type": "jar"
}
```

**输入**：
- 产品：Dr. Leo 5%泛醇凝胶（texture_type=gel, form_type=jar）
- 风格：自然清新
- 随机抽取：A-U03（通用）+ A-TG01（凝胶质地）+ B03 + C01 + D01

**A库筛选逻辑**：
1. 通用动效池：A-U01 ~ A-U10（标签含"通用"）
2. 质地动效池：A-TG01 ~ A-TG05（标签含"质地:凝胶"）
3. 形态动效池：A-FJ01 ~ A-FJ05（标签含"形态:罐装"）
4. 按风格"自然清新"进一步筛选（排斥"科技"、"霓虹"标签）
5. 随机抽取一条（可配置比例：50%通用 + 25%质地 + 25%形态）

**组装过程**：
```
[技术起手式] + [产品描述] + [动态A] + [环境B] + [运镜C] + [光影D] + [技术参数] + [负面提示词]
```

**输出**：
```
电影级商业广告画面，8K分辨率，超写实风格，产品居中构图，产品完全在画面内。
一瓶透明质感的Dr. Leo 5%泛醇舒缓凝胶，内部是清透的绿色凝胶质地，可见细小气泡，包装精致高端。
凝胶质地轻轻晃动，展示Q弹效果，
放置在布满晨露的湿润岩石上，
镜头缓慢推近，聚焦产品细节，
柔和的自然日光照明，光线均匀。
--ar 9:16
不要出现人手、人脸、文字变形、拼写错误、模糊画面、低分辨率、杂乱背景、卡通风格、插画风格
```

---

## 九、后续扩展方向

1. **LLM增强生成**：在纯随机组合的基础上，可选让LLM对提示词进行二次加工，产生更有创意的变种
2. **效果追踪**：记录每条提示词生成的视频效果评分，用于优化变量库内容
3. **智能推荐**：根据历史数据，推荐表现好的变量组合